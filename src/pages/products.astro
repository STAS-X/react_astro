---
import ProductCard from "../components/ProductCard";
import Layout from "../layouts/Layout.astro";
import { IProduct } from "../types";

const res = await fetch('https://fakestoreapi.com/products');
const products = await res.json() as IProduct[];

---

<Layout title="Products">
    <main>
    <h1 class='text-3xl font-bold'>Products page</h1>
    <div role="list" class='flex flex-col flex-wrap items-start justify-center gap-3 py-2'>
        {products.map(product=>
        		<ProductCard
                client:visible
				product={product}
			/>)
        }
    </div>
    </main>
</Layout>

